<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>ChatterBox</title>
  </head>
  <body class="default">
    <div id="loading" class="loading-screen">
      <div class="spinner">
        <div class="double-bounce1"></div>
        <div class="double-bounce2"></div>
      </div>
    </div>
    <div id="main" class="hidden">
      <div id="sidebar-container">
        <div id="sidebar-list">
          <div id="nav-instructions" class="sidebar-item selected">Instructions</div>
          <div id="nav-credentials" class="sidebar-item">Credentials</div>
          <div id="nav-channels" class="sidebar-item">Channels</div>
          <div id="nav-chat" class="sidebar-item">Chat Logs</div>
          <div id="nav-key-mapping" class="sidebar-item">Key Mappings</div>
        </div>
        <div id="sidebar-toggle">
          <div class="sidebar-toggle-icon">
            <i id="sidebar-arrow" class="arrow-left"></i>
          </div>
        </div>
      </div>
      <div class="content">
        <div id="instructions" class="section active">
          <div class="section-title">
            <div class="form-title">Instructions</div>
          </div>
          <div class="instruction-container">
            <p>This app will allow your viewers on Twitch to interact with your machine using the key bindings set by you.</p>
            <br />
            <p><span class="notice">Please, for heaven's sake, do not set very many values to keys. Who knows who your viewers are.</span></p>
            <br />
            <p>How to use this software:</p>
            <ol>
              <li>Create / use a separate Twitch Account dedicated to using a bot. You can register for a twitch account here: <to-browser class="open-in-browser" link="https://www.twitch.tv/signup">Twitch Registration</to-browser></li>
              <li>Generate OAuth Token - A couple of programmers have created this twitch app that allows you to generate a "password" needed to authenticate with Twitch. You will need to use the account you just created in step 1. You can find that here: <to-browser link="https://twitchapps.com/tmi/">TMI OAuth Password Generator</to-browser></li>
              <li>Take the Username of the account you created from step 1 and the password you generated from step 2 and put that into the <to-section goto="av-credentials">Credentials section</to-section>. Make sure you save them.</li>
              <li>Add any twitch channels you would like your twitch bot to read. You can add and remove any channels by going to the <to-section goto="nav-channels">Channels section</to-section>.</li>
              <li>
                Add any Key Mappings that are fit for your game. You can do this in the <to-section goto="nav-key-mapping">Key Mapping section</to-section>. 
                <br />
                <br />
                The Key Alias</strong> field is the letter or phrase you want your chat to give you. The Key Command</strong> field is the key you would like the key alias to register to. 
                <br />
                <br />
                You can find the specific commands that you can use <to-browser link="https://robotjs.io/docs/syntax#keys">on the RobotJS API docs</to-browser>.
              </li>
              <li>
                Enable the chat bot by clicking on the Toggleable Enable Chats switch in the footer of this application.
                <br />
                <br />
                As an optional step, I recommend viewing the <to-section goto="nav-chat">Chat Log</to-section> to make sure the bot is working correctly. You should be able to see all new messages coming in.
              </li>
              <li>If you have done everything correctly, when you want your viewers to take control, you can Enable Actions in the footer. If the viewers put in the correct key phrases you put in the <to-section goto="nav-key-mapping">Key Mapping section</to-section>, you should start seeing automated input.</li>
            </ol>
          </div>
        </div>
        <div id="credentials" class="section hidden">
          <div class="section-title">
            <div class="form-title">Credentials</div>
          </div>
          <form id="credentials-form">
            <div class="input-container">
              <div class="input-text">
                <label for="username">Username</label>
                <input type="text" name="username" id="username" required>
              </div>
              <div class="required">*</div>
            </div>
            <div class="input-container">
              <div class="input-text">
                <label for="password">Password</label>
                <input type="password" name="password" id="password" required>
              </div>
              <div class="required">*</div>
            </div>
            <div class="form-submission">
              <button type="submit">Save</button>
            </div>
          </form>
        </div>
        <div id="channels" class="section hidden">
          <div class="section-title">
            <div class="form-title">Channels</div>
          </div>
          <ul id="channels-list">
            <li class="channel" id="channel-1">
              <div class="channel-name"></div>
              <div class="buttons">
                <div class="delete-button">
                  <button channel="channel-1">Delete</button>
                </div>
              </div>
            </li>
            <!-- List will be filled based on the App Store -->
          </ul>
          <form id="channels-form">
            <div class="section-title">
              <div class="form-title">Add Channel</div>
            </div>
            <div class="input-container">
              <div class="input-text">
                <label for="channel">New Channel</label>
                <input type="text" name="channel" id="channel-input" />
              </div>
            </div>
            <div class="form-submission">
              <button type="submit">Add</button>
            </div>
          </form>
        </div>
        <div id="chat" class="section hidden">
          <div class="section-title">
            <div class="form-title">Chat</div>
          </div>
          <div class="chat-list">
            <textarea id="chat-logs" readonly></textarea>
          </div>
        </div>
        <div id="key-mapping" class="section hidden">
          <div class="section-title">
            <div class="form-title">Key Mapping</div>
          </div>
          <div class="key-mapping-list-container">
            <ul id="key-mapping-list">
              <li class="key" id="key-1">
                <div class="alias-name">f</div>
                <div class="command-name">f</div>
                <div class="buttons">
                  <div class="delete-button">
                    <button channel="channel-1">Delete</button>
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <form id="key-mapping-form">
            <div class="section-title">
              <div class="form-title">Add Key Mapping</div>
            </div>
            <div class="input-container">
              <div class="input-text">
                <label for="alias">Key Alias</label>
                <input type="text" name="alias" id="key-alias-input" required />
              </div>
            </div>
            <div class="input-container">
              <div class="input-text">
                <label for="command">Key Command</label>
                <input type="text" name="command" id="key-command-input" required />
              </div>
            </div>
            <div class="form-submission">
              <button type="submit">Add</button>
            </div>
          </form>
        </div>
      </div>
      <div class="footer">
        <div class="total-item-container">
          <div class="total-item-label">Chats:</div>
          <div id="total-chats">0</div>
        </div>
        <div class="total-item-container">
          <div class="total-item-label">Actions:</div>
          <div id="total-actions">0</div>
        </div>
        <div class="action-buttons-container">
          <div class="toggle-container">
            <div class="toggle-actions-label">Enable Chats:</div>
            <div id="toggle-chats" class="toggle-group">
              <div class="button-on-container">
                <div class="button-on"></div>
              </div>
            </div>
          </div>
          <div class="toggle-container">
            <div class="toggle-actions-label">Enable Actions:</div>
            <div id="toggle-actions" class="toggle-group">
              <div class="button-on-container">
                <div class="button-on"></div>
              </div>              
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
